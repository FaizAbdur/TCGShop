{% extends 'base.html' %}

{% block content %}
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #aaaaaa;">
    <div class="container">
            <a class="navbar-brand" href="#" style="font-weight: bold; font-size: 24px;">TCG Store</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link name-link" href="#" style="font-size: 20px; font-weight: bold; font-family: 'cursive';">Name: {{ name }}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link class-link" href="#" style="font-size: 20px; font-weight: bold; font-family: 'cursive';">Class: {{ class }}</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link logout-link" href="{% url 'main:logout' %}" style="font-size: 20px; font-weight: bold; font-family: 'cursive';">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <h1 class="mb-4">Products</h1>

        <div class="row">
            {% for product in products %}
                <div class="col-md-4">
                    <div class="outer-card" style="background-color: {% if forloop.last %}#D3D3D3{% else %}#ffffff{% endif %};">
                        <div class="inner-card card mb-4 {% if forloop.last %}last-row{% endif %}">
                            <img src="https://upload.wikimedia.org/wikipedia/en/2/2b/Yugioh_Card_Back.jpg" alt="The back side of a card" class="card-img-top">
                            <div class="card-body">
                                <h5 class="card-title" style="font-size: 18px; font-weight: bold; font-family: 'Arial, sans-serif';">Product Name: {{ product.name }}</h5>
                                <p class="card-text" style="font-size: 16px; font-family: 'Times New Roman', serif;">Description: {{ product.description }}</p>
                                <p class="card-text" style="font-size: 16px; font-family: 'Courier New', monospace;">Price: {{ product.price }}</p>
                                <p class="card-text" style="font-size: 16px; font-family: 'Verdana, sans-serif';">Amount: {{ product.amount }}</p>
                                <a href="{% url 'main:edit_product' product.pk %}" class="btn btn-primary btn-sm">Edit</a>
                                <a href="{% url 'main:delete_product' product.pk %}" class="btn btn-danger btn-sm">Delete</a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

        <p class="mt-4">Kamu menyimpan {{ products|length }} item pada aplikasi ini.</p>

        <div class="mt-4">
            <a href="{% url 'main:create_product' %}" class="btn btn-success">Add New Product</a>
        </div>

        <h5 class="mt-4">Sesi terakhir login: {{ last_login }}</h5>

        <div class="mt-4">
            <a href="{% url 'main:logout' %}" class="btn btn-secondary">Logout</a>
        </div>
    </div>

    <style>
        .outer-card {
            background-color: #ffffff;
            padding: 20px;
            border: 1px solid #ccc; 
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
        }
        
        .inner-card {
            background-color: #f7f7f7;
            border: none;
            border-radius: 15px; /* Rounded edges for inner cards */
        }
        
        .inner-card.last-row {
            background-color: beige; /* Background color for the last row */
        }

    </style>
{% endblock content %}
